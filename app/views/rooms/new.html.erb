<div class="max-w-2xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="mb-6">
    <%= link_to "‚Üê #{t('common.back')}", rooms_path, class: "text-gray-600 hover:text-gray-800 font-medium mb-4 inline-block" %>
    <h1 class="text-3xl font-bold text-gray-900">
      <%= params[:type] == 'single' ? t('rooms.new_singleplayer') : t('rooms.new_multiplayer') %>
    </h1>
    <p class="text-gray-600">
      <%= params[:type] == 'single' ? 'Crie uma sala para jogar sozinho' : 'Crie uma sala para at√© 16 jogadores' %>
    </p>
  </div>

  <!-- Form Card -->
  <div class="bg-white rounded-xl shadow-sm p-6">
    <%= form_with model: @room, local: true, class: "space-y-6" do |form| %>
      <!-- Hidden field for room type -->
      <%= form.hidden_field :is_multiplayer, value: params[:type] == 'multi' %>

      <!-- Room Name -->
      <div>
        <%= form.label :name, t('rooms.name'), class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :name,
            class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            placeholder: params[:type] == 'single' ? 'Ex: Minha Carreira no Santos' : 'Ex: Liga dos Amigos 2024' %>
        <% if @room.errors[:name].any? %>
          <p class="mt-1 text-sm text-red-600"><%= @room.errors[:name].first %></p>
        <% end %>
      </div>

      <!-- Description -->
      <div>
        <%= form.label :description, t('rooms.description_optional'), class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_area :description,
            rows: 3,
            class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            placeholder: "Descreva sua sala..." %>
      </div>

      <% if params[:type] == 'multi' %>
        <!-- Max Players (only for multiplayer) -->
        <div>
          <%= form.label :max_players, t('rooms.max_players_label'), class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.select :max_players,
              options_for_select((4..16).map { |n| [n, n] }, 16),
              {},
              class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
          <p class="mt-1 text-sm text-gray-500"><%= t('rooms.max_players_help') %></p>
        </div>
      <% else %>
        <%= form.hidden_field :max_players, value: 1 %>
      <% end %>

      <!-- Room Info -->
      <div class="bg-gray-50 rounded-lg p-4">
        <h3 class="font-medium text-gray-900 mb-2">
          <%= params[:type] == 'single' ? "üë§ #{t('rooms.singleplayer_info')}" : "üë• #{t('rooms.multiplayer_info')}" %>
        </h3>
        <ul class="text-sm text-gray-600 space-y-1">
          <% if params[:type] == 'single' %>
            <li>‚Ä¢ Jogue sozinho contra a IA</li>
            <li>‚Ä¢ Limite de 5 salas singleplayer por usu√°rio</li>
            <li>‚Ä¢ Controle total sobre o ritmo do jogo</li>
          <% else %>
            <li>‚Ä¢ Jogue com at√© 16 amigos</li>
            <li>‚Ä¢ Sistema de aprova√ß√£o coletiva para avan√ßar rodadas</li>
            <li>‚Ä¢ Chat em tempo real entre membros</li>
          <% end %>
        </ul>
      </div>

      <!-- Actions -->
      <div class="flex gap-3">
        <%= form.submit t('rooms.create'),
            class: "flex-1 px-4 py-2 text-white rounded-lg font-medium hover:opacity-90 transition-all",
            style: "background-color: #228B22;" %>
        <%= link_to t('common.cancel'), rooms_path,
            class: "px-4 py-2 text-gray-600 rounded-lg font-medium border border-gray-300 hover:bg-gray-50 transition-all" %>
      </div>
    <% end %>
  </div>
</div>
